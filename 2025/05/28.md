# 2025 年 5 月 28 日 (水)
5/27〜5/29まで会社のエンジニアチームで那須旅行中、Next.js App Router と RailsでXクローンを開始した

## 取り組んだこと
- プログラミング
  - Xクローン
    - Xでのサインアップ時の処理をRailsでどうやって実装するかの調査
      - メールアドレスに認証コードを送信する
      - (多分)同じセッションかつ同じメールアドレスなら、同じ認証コードを送信する
      - (多分)違うセッションかつ同じメールアドレスなら、違う認証コードを送信する
      - (多分)3回認証コードの送信を行うと、しばらくできなくなる

## わかったこと
- `OpenSSL::Digest::SHA256`と`BCrypt::Password.create`の違い
  - **OpenSSL::Digest::SHA256（SHA256）**
    - 特徴：
      - 高速：計算が非常に速い
      - 決定的：同じ入力に対して常に同じ出力
      - ソルトなし：追加のランダム要素がない
      - レインボーテーブル攻撃に脆弱
    - セキュリティ上の問題：
      - 辞書攻撃に弱い：6桁の数字（100万通り）は総当たりで簡単に破られる
      - レインボーテーブル攻撃：事前計算された表で瞬時に解読される
      - 同じコードは同じハッシュ：パターンが見えやすい
  - **BCrypt::Password.create（BCrypt）**
    - 特徴：
      - 意図的に遅い：計算コストを調整可能
      - ソルト自動生成：毎回異なるランダム要素を追加
      - 同じ入力でも異なる出力：ソルトにより毎回違うハッシュ
      - ブルートフォース攻撃に強い
    - セキュリティ上の利点：
      - 時間稼ぎ：1回の計算に時間をかけて総当たりを困難にする
      - ソルトによる保護：レインボーテーブル攻撃を無効化
      - 調整可能なコスト：将来的にセキュリティレベルを上げられる
  - 上記はRooCode(Claude sonnet 4)の回答
  - ChatGPTも同じような回答だった
  - APIの署名などでは`OpenSSL::Digest::SHA256`、パスワードの保存や認証処理では`BCrypt::Password.create`を使うべき

## 感じたこと
今はプログラミングのモチベーションがすごい高い。土日もできるだけプログラミングにコミットしたい

## 次やること
- プログラミング
  - Xクローン
    - 認証処理の実装
